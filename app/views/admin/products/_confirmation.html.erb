<%= form_for [:admin, @product], class: 'form-horizontal' do |f| %>
<%= f.hidden_field :name %>
<%= f.hidden_field :price %>
<%= f.hidden_field :weight %>
<%= f.hidden_field :stock %>
<%= f.hidden_field :note %>
<%= f.hidden_field :_destroy %>
<% @product.category_ids.each do |id| %>
  <%= hidden_field_tag 'product[category_ids][]', id %>
<% end %>

<h2>登録確認ページ</h2>

<div>
  <%= f.label :name, class: 'col-md-2' %>
  <div class="col-md-12">
    <%= @product.name %>
  </div>
</div>
<div>
  <%= f.label :price, class: 'col-md-2' %>
  <div class="col-md-12">
    <%= @product.price %>
  </div>
</div>
<div>
  <%= f.label :weight, class: 'col-md-2' %>
  <div class="col-md-12">
    <%= @product.weight %>
  </div>
</div>
<div>
  <%= f.label :stock, class: 'col-md-2' %>
  <div class="col-md-12">
    <%= @product.stock %>
  </div>
</div>
<div>
  <%= f.label :note, class: 'col-md-2' %>
  <div class="col-md-12">
    <%= @product.note %>
  </div>
</div>
<div class="form-group">
  <%= f.label :uploaded_image, class: 'control-label col-md-2' %>
  <div class="col-md-12">
    <%= f.file_field :uploaded_image %>
    <% if !f.object.new_record? && f.object.errors.empty? %>
    <div>
      <%= admin_product_image_tag @product, width: 300 %>
      <%= f.check_box :_destroy, disabled: show? %>
      <%= f.label :_destroy %>
    </div>
    <% end %>
  </div>
</div>
<div>
  <b class="col-md-2">カテゴリ</b>
  <div class="col-md-12">
    <%= f.collection_check_boxes :category_ids, Category.all, :id, :name do |ff| %>
      <%= ff.label { ff.check_box(disabled: true) + ff.text } %>
    <% end %>
  </div>
</div>
<%= f.submit '戻る', name: :back, class: 'col-md-offset-10 col-md-2 btn, btn-default' %>
<%= f.submit '登録する', class: 'col-md-offset-10 col-md-2 btn, btn-danger' %>
<% end %>
